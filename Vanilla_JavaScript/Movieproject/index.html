<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie Search</title>
</head>
<body>
  <input type="text" class="movieName" placeholder="Enter movie name">
  <button class="btn" onclick="getdata()">Search</button>
  <div class="container"></div>

  <script>
      

      async function getdata(){

          const movieName = document.querySelector(".movieName").value.trim();

          const res = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=f786c77753491875a80135f8ea02c61d&query=${movieName}`)
          if(!res.ok){
            throw new Error("Error ")
          }
          const data = await res.json();
          console.log(data)

          const container = document.querySelector(".container");
          container.innerHTML = ""; // ✅ clear container before adding new results

          data.results.forEach(i=>{
           
            const img = document.createElement("img")
            img.src = `https://image.tmdb.org/t/p/w500${i.poster_path}`
            container.append(img)
            const para1 = document.createElement("P");
            const para2 = document.createElement("P");
            const para3 = document.createElement("p");
            para1.innerText = `Rating : ⭐  ${i.vote_average}`
            para2.innerText = `Title :  ${i.title}`
            para3.innerText = `Description : ${i.overview}`
            container.append(img)
            container.append(para1)
            container.append(para2)
            container.append(para3)
          })

        }    

  </script>
</body>
</html>


